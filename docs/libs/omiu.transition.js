(function(s,n){typeof exports=="object"&&typeof module!="undefined"?n(exports,require("omi")):typeof define=="function"&&define.amd?define(["exports","omi"],n):(s=typeof globalThis!="undefined"?globalThis:s||self,n(s.index={},s.omi))})(this,function(s,n){"use strict";var d=Object.defineProperty,h=Object.getOwnPropertyDescriptor,m=(e,o,i,r)=>{for(var t=r>1?void 0:r?h(o,i):o,a=e.length-1,l;a>=0;a--)(l=e[a])&&(t=(r?l(o,i,t):l(t))||t);return r&&t&&d(o,i,t),t};s.Transition=class extends n.WeElement{installed(){const e=this.children[0];e&&(this.prevDisplay=getComputedStyle(e).display),this.addEventListener("transitionend",p(this.onTransitionEnd.bind(this),0)),this.addEventListener("animationend",p(this.onTransitionEnd.bind(this),0)),this.props.show||(e.style.display="none"),v(()=>{this.props.show&&this.enter(),this.props.leavingTime&&setTimeout(()=>{this.leave()},this.props.leavingTime)})}receiveProps(){this.props.show?this.enter():this.leave()}enter(){this.children[0].style.display=this.prevDisplay||"";const e=this.children[0];e&&(this.fire("before-enter"),e.classList.remove(this.props.name+"-leave-active"),e.classList.remove(this.props.name+"-leave-to"),e.classList.add(this.props.name+"-enter-from"),window.setTimeout(()=>{e.classList.add(this.props.name+"-enter-active"),e.classList.remove(this.props.name+"-enter-from"),e.classList.add(this.props.name+"-enter-to"),this.fire("enter")},this.props.delay))}onTransitionEnd(){const e=this.children[0];this.props.show?(e.classList.remove(this.props.name+"-enter-active"),this.fire("after-enter")):(e.classList.remove(this.props.name+"-leave-active"),this.fire("after-leave"),e.style.display="none",this.props.autoRemove&&this.parentNode&&this.parentNode.removeChild(this))}leave(){const e=this.children[0];e&&(this.fire("before-leave"),e.classList.remove(this.props.name+"-enter-active"),e.classList.remove(this.props.name+"-enter-to"),e.classList.add(this.props.name+"-leave-from"),window.setTimeout(()=>{e.classList.add(this.props.name+"-leave-active"),e.classList.remove(this.props.name+"-leave-from"),e.classList.add(this.props.name+"-leave-to"),this.fire("leave")},this.props.delay))}render(){}},s.Transition.propTypes={name:String,leavingTime:Number,autoRemove:Boolean,delay:Number,show:Boolean},s.Transition.isLightDOM=!0,s.Transition.defaultProps={name:"o",delay:0},s.Transition=m([n.tag("o-transition")],s.Transition);function v(e){document.readyState!=="loading"?e():document.addEventListener("DOMContentLoaded",e)}function p(e,o){let i;return function(...r){i&&clearTimeout(i),i=setTimeout(()=>{e.apply(this,r)},o)}}Object.defineProperties(s,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
